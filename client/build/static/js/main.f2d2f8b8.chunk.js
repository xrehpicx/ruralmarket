(this["webpackJsonpreact-pwa"]=this["webpackJsonpreact-pwa"]||[]).push([[0],{106:function(e,t,r){},107:function(e,t,r){"use strict";r.r(t);var a=r(3),n=r(0),i=r(9),s=r.n(i),c=(r(78),r(33)),o=r(11),u=(r(79),r(64)),l=r(142),m=r(25),p=r(140),h=r(136),g=r(141),d=r(62),j=r.n(d),b=r(63),x=r.n(b),f=(r.p,r(80),Object(n.createContext)());function v(e){var t=e.children,r=Object(n.useState)(null),i=Object(m.a)(r,2),s=i[0],c=i[1];return Object(n.useEffect)((function(){s&&(console.log(s),localStorage.setItem("user",JSON.stringify(s)),window.location.href!==window.location.origin+"/"&&(window.location.href=window.location.origin))}),[s]),Object(n.useEffect)((function(){var e=localStorage.getItem("user");e&&c(JSON.parse(e))}),[]),Object(a.jsx)(f.Provider,{value:{user:s,setUser:c},children:t})}var O=r(22),w=r.n(O),y=r(30),N=r(43),R=r.n(N),k=r(60),C=window.location.origin+"/api";function S(){return(S=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post(C+"/login",t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return _.apply(this,arguments)}function _(){return(_=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post(C+"/signup",t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=r(61),A=r.n(I);function F(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),r=t[0],i=t[1];return Object(n.useEffect)((function(){new Promise((function(e,t){setTimeout((function(){e(k)}),200)})).then(i)}),[]),Object(a.jsx)("div",{className:"products",children:r.map((function(e,t){return Object(a.jsx)(E,{product:e},t)}))})}function E(e){var t=e.product;return console.log(t),Object(a.jsxs)("div",{className:"product",children:[Object(a.jsxs)("div",{className:"details",children:[Object(a.jsx)(h.a,{className:"product-display-title",variant:"h4",children:t.name}),Object(a.jsxs)("div",{className:"about",children:[Object(a.jsx)(h.a,{variant:"h6",children:t.cost.value+" "+A()(t.cost.currency)+"/kg"}),Object(a.jsxs)(h.a,{variant:"subtitle2",children:["available amount: ",t.amount," kg"]})]})]}),Object(a.jsx)("div",{className:"main-product-image",children:Object(a.jsx)("img",{src:t.images[0],alt:""})})]})}var L=function(){var e=Object(o.f)(),t=Object(n.useContext)(f).user;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"home",children:[Object(a.jsxs)("header",{children:[Object(a.jsx)("div",{className:"left",children:Object(a.jsx)(h.a,{color:"primary",variant:"h4",children:"Kisaan"})}),Object(a.jsx)("div",{className:"right",children:t?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p.a,{onClick:function(){return e.push("/login")},color:"primary",children:"Log in"}),Object(a.jsx)(p.a,{onClick:function(){return e.push("/signup")},variant:"outlined",color:"primary",children:"Sign up"})]})})]}),Object(a.jsx)(F,{})]}),Object(a.jsxs)("div",{className:"quick-actions",children:[Object(a.jsxs)(g.a,{onClick:t?function(){return console.log("going to cart")}:function(){return e.push("/signup")},variant:"extended",color:"primary",style:{color:"white"},children:[Object(a.jsx)(j.a,{}),Object(a.jsx)("span",{style:{marginLeft:"8px"},children:"Cart"})]}),Object(a.jsxs)(g.a,{onClick:t?function(){return console.log("going to sell")}:function(){return e.push("/login")},variant:"extended",color:"primary",style:{color:"white"},children:[Object(a.jsx)(x.a,{}),Object(a.jsx)("span",{style:{marginLeft:"8px"},children:"sell"})]})]})]})},V=r(143);r(106);function J(){var e=Object(n.useRef)({}),t=Object(n.useContext)(f).setUser;return Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)(h.a,{variant:"h2",color:"primary",children:"Kissaan"}),Object(a.jsx)(h.a,{variant:"subtitle1",children:"Log in"}),Object(a.jsxs)("div",{className:"form",children:[Object(a.jsx)(V.a,{label:"number",defaultValue:"",variant:"outlined",margin:"dense",onChange:function(t){e.current.username=t.target.value}}),Object(a.jsx)(V.a,{label:"password",type:"password",defaultValue:"",variant:"outlined",margin:"dense",onChange:function(t){e.current.password=t.target.value}})]}),Object(a.jsx)(p.a,{variant:"outlined",onClick:function(){Number(e.current.username)&&10===e.current.username.length&&function(e){return S.apply(this,arguments)}({number:e.current.username,password:e.current.password}).then(t)},children:"Log in"})]})}function P(){var e=Object(n.useContext)(f).setUser,t=Object(n.useRef)({}),r=Object(n.useState)(""),i=Object(m.a)(r,2),s=i[0],c=i[1],o=function(){var r=Object(y.a)(w.a.mark((function r(){return w.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.current.username){r.next=5;break}return c("Enter Name"),r.abrupt("return");case 5:if(!t.current.username||t.current.username.trim()){r.next=10;break}return c("Name invalid"),r.abrupt("return");case 10:if(t.current.number){r.next=15;break}return c("Enter your phone number"),r.abrupt("return");case 15:if(!t.current.number||Number(t.current.number)&&!(t.current.number.length>10)){r.next=20;break}return c("Enter a valid phone number"),r.abrupt("return");case 20:if(t.current.password===t.current.password2){r.next=23;break}return c("passwords dont match"),r.abrupt("return");case 23:return r.t0=e,r.next=26,z(t.current);case 26:r.t1=r.sent,(0,r.t0)(r.t1);case 28:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"signup",children:[Object(a.jsx)(h.a,{variant:"h2",color:"primary",children:"Kissaan"}),Object(a.jsx)(h.a,{variant:"subtitle1",children:"Sign up"}),s?Object(a.jsx)(h.a,{style:{color:"red"},variant:"subtitle1",children:s}):Object(a.jsx)(a.Fragment,{}),Object(a.jsxs)("div",{className:"form",children:[Object(a.jsxs)("div",{className:"sub-form",children:[Object(a.jsx)(V.a,{label:"Mobile no.",defaultValue:"",variant:"outlined",margin:"dense",onChange:function(e){t.current.number=e.target.value}}),Object(a.jsx)(V.a,{label:"Full name",defaultValue:"",variant:"outlined",margin:"dense",onChange:function(e){t.current.username=e.target.value}})]}),Object(a.jsxs)("div",{className:"sub-form",children:[Object(a.jsx)(V.a,{label:"password",type:"password",defaultValue:"",variant:"outlined",margin:"dense",onChange:function(e){t.current.password=e.target.value}}),Object(a.jsx)(V.a,{label:"retype password",type:"password",defaultValue:"",variant:"outlined",margin:"dense",onChange:function(e){t.current.password2=e.target.value}})]})]}),Object(a.jsx)(p.a,{variant:"outlined",onClick:o,children:"Sign up"})]})}var B=Object(u.a)({palette:{primary:{main:"#33c971"}}});var K=function(){return Object(a.jsx)(l.a,{theme:B,children:Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(c.a,{children:Object(a.jsxs)(o.c,{children:[Object(a.jsx)(o.a,{exact:!0,path:"/",children:Object(a.jsx)(L,{})}),Object(a.jsx)(o.a,{path:"/login",children:Object(a.jsx)(J,{})}),Object(a.jsx)(o.a,{path:"/signup",children:Object(a.jsx)(P,{})})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,144)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),i(e),s(e)}))};s.a.render(Object(a.jsx)(v,{children:Object(a.jsx)(K,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),T()},60:function(e){e.exports=JSON.parse('[{"name":"Rice","seller":{"name":"Raj Sharma","rating":"9"},"cost":{"value":100,"currency":"INR"},"amount":100,"images":["https://i0.wp.com/images-prod.healthline.com/hlcmsresource/images/AN_images/parboiled-rice-1296x728-feature.jpg?w=1155&h=1528","https://img.etimg.com/thumb/width-640,height-480,imgsize-263761,resizemode-1,msid-74742498/news/economy/agriculture/rice-export-from-india-to-ride-rabi-harvest-global-price/rice-agencies.jpg","https://post.greatist.com/wp-content/uploads/sites/3/2020/02/322775_2200-800x1200.jpg"]},{"name":"Rice","seller":{"name":"Raj Sharma","rating":"9"},"cost":{"value":100,"currency":"INR"},"amount":100,"images":["https://i0.wp.com/images-prod.healthline.com/hlcmsresource/images/AN_images/parboiled-rice-1296x728-feature.jpg?w=1155&h=1528","https://img.etimg.com/thumb/width-640,height-480,imgsize-263761,resizemode-1,msid-74742498/news/economy/agriculture/rice-export-from-india-to-ride-rabi-harvest-global-price/rice-agencies.jpg","https://post.greatist.com/wp-content/uploads/sites/3/2020/02/322775_2200-800x1200.jpg"]},{"name":"Rice","seller":{"name":"Raj Sharma","rating":"9"},"cost":{"value":100,"currency":"INR"},"amount":100,"images":["https://i0.wp.com/images-prod.healthline.com/hlcmsresource/images/AN_images/parboiled-rice-1296x728-feature.jpg?w=1155&h=1528","https://img.etimg.com/thumb/width-640,height-480,imgsize-263761,resizemode-1,msid-74742498/news/economy/agriculture/rice-export-from-india-to-ride-rabi-harvest-global-price/rice-agencies.jpg","https://post.greatist.com/wp-content/uploads/sites/3/2020/02/322775_2200-800x1200.jpg"]},{"name":"Rice","seller":{"name":"Raj Sharma","rating":"9"},"cost":{"value":100,"currency":"INR"},"amount":100,"images":["https://i0.wp.com/images-prod.healthline.com/hlcmsresource/images/AN_images/parboiled-rice-1296x728-feature.jpg?w=1155&h=1528","https://img.etimg.com/thumb/width-640,height-480,imgsize-263761,resizemode-1,msid-74742498/news/economy/agriculture/rice-export-from-india-to-ride-rabi-harvest-global-price/rice-agencies.jpg","https://post.greatist.com/wp-content/uploads/sites/3/2020/02/322775_2200-800x1200.jpg"]},{"name":"Rice","seller":{"name":"Raj Sharma","rating":"9"},"cost":{"value":100,"currency":"INR"},"amount":100,"images":["https://i0.wp.com/images-prod.healthline.com/hlcmsresource/images/AN_images/parboiled-rice-1296x728-feature.jpg?w=1155&h=1528","https://img.etimg.com/thumb/width-640,height-480,imgsize-263761,resizemode-1,msid-74742498/news/economy/agriculture/rice-export-from-india-to-ride-rabi-harvest-global-price/rice-agencies.jpg","https://post.greatist.com/wp-content/uploads/sites/3/2020/02/322775_2200-800x1200.jpg"]},{"name":"Rice","seller":{"name":"Raj Sharma","rating":"9"},"cost":{"value":100,"currency":"INR"},"amount":100,"images":["https://i0.wp.com/images-prod.healthline.com/hlcmsresource/images/AN_images/parboiled-rice-1296x728-feature.jpg?w=1155&h=1528","https://img.etimg.com/thumb/width-640,height-480,imgsize-263761,resizemode-1,msid-74742498/news/economy/agriculture/rice-export-from-india-to-ride-rabi-harvest-global-price/rice-agencies.jpg","https://post.greatist.com/wp-content/uploads/sites/3/2020/02/322775_2200-800x1200.jpg"]},{"name":"Rice","seller":{"name":"Raj Sharma","rating":"9"},"cost":{"value":100,"currency":"INR"},"amount":100,"images":["https://i0.wp.com/images-prod.healthline.com/hlcmsresource/images/AN_images/parboiled-rice-1296x728-feature.jpg?w=1155&h=1528","https://img.etimg.com/thumb/width-640,height-480,imgsize-263761,resizemode-1,msid-74742498/news/economy/agriculture/rice-export-from-india-to-ride-rabi-harvest-global-price/rice-agencies.jpg","https://post.greatist.com/wp-content/uploads/sites/3/2020/02/322775_2200-800x1200.jpg"]},{"name":"Rice","seller":{"name":"Raj Sharma","rating":"9"},"cost":{"value":100,"currency":"INR"},"amount":100,"images":["https://i0.wp.com/images-prod.healthline.com/hlcmsresource/images/AN_images/parboiled-rice-1296x728-feature.jpg?w=1155&h=1528","https://img.etimg.com/thumb/width-640,height-480,imgsize-263761,resizemode-1,msid-74742498/news/economy/agriculture/rice-export-from-india-to-ride-rabi-harvest-global-price/rice-agencies.jpg","https://post.greatist.com/wp-content/uploads/sites/3/2020/02/322775_2200-800x1200.jpg"]}]')},78:function(e,t,r){},79:function(e,t,r){},80:function(e,t,r){}},[[107,1,2]]]);
//# sourceMappingURL=main.f2d2f8b8.chunk.js.map